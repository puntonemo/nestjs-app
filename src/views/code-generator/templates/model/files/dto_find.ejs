import { Transform } from 'class-transformer';
import { IsNumber, IsOptional } from 'class-validator';

export class Find<%-model_name%>Dto {<%
        if(locals?.findables){
            for (const findable of findables) {%>
    @IsOptional()<%if (attributes.find(i=>i.name==findable)?.type == 'number'){%>
    @Transform(({ value }) => parseInt(value))
    @IsNumber()<%}%>
    <%=attributes.find(i=>i.name==findable)?.name%>: <%=attributes.find(i=>i.name==findable)?.type%>;<%
        }
    }%>
    @IsOptional()
    order: string;
    @IsOptional()
    ascending: boolean;
    @IsOptional()
    @Transform(({ value }) => parseInt(value))
    @IsNumber()
    page: number = 1;
    @IsOptional()
    @Transform(({ value }) => parseInt(value))
    @IsNumber()
    pageSize: number = 10;
    @IsOptional()
    schema: string;
    @IsOptional()
    count: 'exact' | 'planned' | 'estimated';
    @Transform(({ value }) => JSON.parse(value))
    @IsBoolean()
    data: boolean = true;
}

